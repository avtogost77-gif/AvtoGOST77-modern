<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <link rel="canonical" href="https://avtogost77.ru/sw-cache-cleaner.html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ Service Worker - –ê–≤—Ç–æ–ì–û–°–¢</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #2c5aa0 0%, #1a3a6a 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 30px;
            backdrop-filter: blur(10px);
        }
        .btn {
            background: #ff6b35;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background: #e55a2b;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 107, 53, 0.4);
        }
        .status {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: monospace;
        }
        .success {
            border-left: 4px solid #10b981;
        }
        .error {
            border-left: 4px solid #ef4444;
        }
        .warning {
            border-left: 4px solid #f59e0b;
        }
    </style>
    <!-- –ö–†–ò–¢–ò–ß–ù–´–ï –°–¢–ò–õ–ò –î–õ–Ø –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø - –û–ë–•–û–î –ö–≠–®–ê (–ü–û–°–õ–ï–î–ù–ò–ï) -->
    <link rel="stylesheet" href="assets/css/critical-fixes.css?v=20250831-final-restore-urgent-bypass-urgent-bypass-urgent-bypass-urgent-bypass-urgent-bypass-urgent-bypass-urgent-mobile-hero-fix">
</head>
<body>
    <div class="container">
        <h1>üßπ –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ Service Worker</h1>
        <p>–≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–º–æ–∂–µ—Ç –æ—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–π –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –æ–±–Ω–æ–≤–∏—Ç—å Service Worker KILLER v3.0.</p>
        <div id="status"></div>
        <button class="btn" onclick="clearCache()">üíÄ –û—á–∏—Å—Ç–∏—Ç—å –≤–µ—Å—å –∫—ç—à</button>
        <button class="btn" onclick="clearSWCache()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å SW –∫—ç—à</button>
        <button class="btn" onclick="updateSW()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å SW</button>
        <button class="btn" onclick="reloadPage()">üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</button>
        <div class="status">
            <h3>üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</h3>
            <ol>
                <li>–ù–∞–∂–º–∏—Ç–µ "–û—á–∏—Å—Ç–∏—Ç—å –≤–µ—Å—å –∫—ç—à" –¥–ª—è –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏</li>
                <li>–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (Ctrl+F5)</li>
                <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ CSS —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ 404</li>
            </ol>
        </div>
        <div class="status">
            <h3>üîç –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:</h3>
            <ul>
                <li>üíÄ Service Worker KILLER v3.0 –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω</li>
                <li>‚úÖ –ê–ì–†–ï–°–°–ò–í–ù–´–ô –†–ï–ñ–ò–ú - –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ CSS/JS —Ñ–∞–π–ª—ã</li>
                <li>‚úÖ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö —Å—Ç–∞—Ä—ã—Ö –∫—ç—à–µ–π</li>
                <li>‚úÖ Preload –¥–æ–±–∞–≤–ª–µ–Ω –¥–ª—è –≤—Å–µ—Ö bundle'–æ–≤</li>
                <li>‚úÖ Mobile sticky CTA –Ω–∞ 44 —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö</li>
                <li>‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —Ñ–∞–π–ª–æ–≤</li>
            </ul>
        </div>
    </div>
    <script>
        const statusDiv = document.getElementById('status');
        function log(message, type = 'info') {
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.textContent = new Date().toLocaleTimeString() + ': ' + message;
            statusDiv.appendChild(div);
            console.log(message);
        }
        async function clearCache() {
            try {
                log('üßπ –ù–∞—á–∏–Ω–∞–µ–º –æ—á–∏—Å—Ç–∫—É –∫—ç—à–∞...', 'warning');
                // –û—á–∏—â–∞–µ–º Cache API
                if ('caches' in window) {
                    const cacheNames = await caches.keys();
                    for (const name of cacheNames) {
                        await caches.delete(name);
                        log(`üíÄ –£–¥–∞–ª–µ–Ω –∫—ç—à: ${name}`, 'success');
                    }
                }
                // –û—á–∏—â–∞–µ–º localStorage
                localStorage.clear();
                log('üóëÔ∏è –û—á–∏—â–µ–Ω localStorage', 'success');
                // –û—á–∏—â–∞–µ–º sessionStorage
                sessionStorage.clear();
                log('üóëÔ∏è –û—á–∏—â–µ–Ω sessionStorage', 'success');
                log('‚úÖ –í–µ—Å—å –∫—ç—à –æ—á–∏—â–µ–Ω!', 'success');
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ –æ—á–∏—Å—Ç–∫–∏: ${error}`, 'error');
            }
        }
        async function clearSWCache() {
            try {
                log('üîÑ –û—á–∏—â–∞–µ–º SW –∫—ç—à...', 'warning');
                if ('caches' in window) {
                    const cacheNames = await caches.keys();
                    for (const name of cacheNames) {
                        if (name.includes('avtogost')) {
                            await caches.delete(name);
                            log(`üíÄ –£–¥–∞–ª–µ–Ω SW –∫—ç—à: ${name}`, 'success');
                        }
                    }
                }
                log('‚úÖ SW –∫—ç—à –æ—á–∏—â–µ–Ω!', 'success');
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞: ${error}`, 'error');
            }
        }
        async function updateSW() {
            try {
                log('üîÑ –û–±–Ω–æ–≤–ª—è–µ–º Service Worker...', 'warning');
                if ('serviceWorker' in navigator) {
                    const registration = await navigator.serviceWorker.getRegistration();
                    if (registration) {
                        await registration.update();
                        log('‚úÖ SW –æ–±–Ω–æ–≤–ª–µ–Ω!', 'success');
                    } else {
                        log('‚ö†Ô∏è SW –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω', 'warning');
                    }
                }
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ SW: ${error}`, 'error');
            }
        }
        function reloadPage() {
            log('üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É...', 'warning');
            setTimeout(() => {
                window.location.reload(true);
            }, 1000);
        }
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', () => {
            log('üöÄ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞. SW KILLER v3.0 –∞–∫—Ç–∏–≤–µ–Ω!', 'success');
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º SW
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.ready.then(() => {
                    log('‚úÖ SW –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ', 'success');
                });
            }
        });
    </script>
</body>
</html>
    <!-- Schema.org —Ä–∞–∑–º–µ—Ç–∫–∞ -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "–ê–≤—Ç–æ–ì–û–°–¢",
        "url": "https://avtogost77.ru"
    }
    </script>
