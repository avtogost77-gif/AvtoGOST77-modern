<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–¢–ï–°–¢ –í–°–ï–• –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô</title>
  <link rel="stylesheet" href="assets/css/styles.css">
  <link rel="stylesheet" href="assets/css/mobile.css">
  <style>
    .test-panel {
      position: fixed;
      top: 10px;
      left: 10px;
      background: rgba(0,0,0,0.9);
      color: white;
      padding: 15px;
      border-radius: 8px;
      font-size: 12px;
      z-index: 20000;
      max-width: 250px;
    }
    
    .test-panel h4 {
      margin: 0 0 10px 0;
      color: #4CAF50;
    }
    
    .test-result {
      margin: 5px 0;
      padding: 3px 6px;
      border-radius: 3px;
    }
    
    .pass { background: #4CAF50; }
    .fail { background: #f44336; }
    
    .test-buttons {
      position: fixed;
      bottom: 20px;
      left: 20px;
      z-index: 20000;
    }
    
    .test-btn {
      display: block;
      margin: 5px 0;
      padding: 10px 15px;
      background: #2196F3;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 12px;
    }
    
    .test-btn:hover {
      background: #1976D2;
    }
  </style>
</head>
<body>
  <!-- –ü–∞–Ω–µ–ª—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
  <div class="test-panel">
    <h4>üß™ –¢–ï–°–¢–´ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô</h4>
    <div id="test-results"></div>
  </div>

  <!-- –ö–Ω–æ–ø–∫–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
  <div class="test-buttons">
    <button class="test-btn" onclick="runAllTests()">üîÑ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã</button>
    <button class="test-btn" onclick="testModal()">üìù –¢–µ—Å—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞</button>
    <button class="test-btn" onclick="testHeroButtons()">üéØ –¢–µ—Å—Ç –∫–Ω–æ–ø–æ–∫ hero</button>
    <button class="test-btn" onclick="testResponsive()">üì± –¢–µ—Å—Ç –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏</button>
  </div>

  <!-- Hero —Å–µ–∫—Ü–∏—è -->
  <section class="hero hero-main">
    <div class="container">
      <div class="hero-content">
        <h1>üîß –¢–ï–°–¢ –í–°–ï–• –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô</h1>
        <p>–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–±–æ—Ç—É hero –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∫–Ω–æ–ø–æ–∫ –∏ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π.</p>
        <div class="hero-actions" style="margin-top: 2rem;">
          <a href="#smart-calculator" class="btn btn-primary btn-lg" id="calc-btn">
            üìä –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É
          </a>
          <a href="#test" class="btn btn-secondary btn-lg" onclick="alert('–ö–Ω–æ–ø–∫–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞!')">
            ‚úÖ –¢–µ—Å—Ç –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏
          </a>
          <button class="btn btn-success btn-lg" onclick="openModal('lead-modal')">
            üìù –û—Ç–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- –¢–µ—Å—Ç–æ–≤–∞—è —Å–µ–∫—Ü–∏—è -->
  <section style="padding: 3rem 0; background: white;">
    <div class="container">
      <h2>üìã –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
      <div id="detailed-results"></div>
    </div>
  </section>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
  <div class="modal-overlay" id="lead-modal" style="display: none;">
    <div class="modal-box">
      <button class="modal-close" onclick="closeModal()" aria-label="–ó–∞–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É">&times;</button>
      <h3 id="form-title">‚úÖ –§–û–†–ú–ê –†–ê–ë–û–¢–ê–ï–¢!</h3>
      <form id="lead-form" role="form" aria-labelledby="form-title">
        <div class="form-group">
          <label for="lead-name" class="sr-only">–í–∞—à–µ –∏–º—è</label>
          <input type="text" id="lead-name" name="name" placeholder="–í–∞—à–µ –∏–º—è" required 
                 style="width:100%;margin-bottom:.5rem;padding:.5rem">
        </div>
        
        <div class="form-group">
          <label for="lead-phone" class="sr-only">–¢–µ–ª–µ—Ñ–æ–Ω</label>
          <input type="tel" id="lead-phone" name="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" required 
                 style="width:100%;margin-bottom:.5rem;padding:.5rem">
        </div>
        
        <button type="button" class="btn btn-primary" onclick="alert('–§–æ—Ä–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç!'); closeModal();" style="width:100%;">
          ‚úÖ –¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏
        </button>
      </form>
    </div>
  </div>

  <!-- JavaScript –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
  <script>
    // –§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏ (–∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∞–π—Ç–∞)
    function openModal(modalId) {
      const modal = document.getElementById(modalId);
      if (modal) {
        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
        
        const firstInput = modal.querySelector('input[type="text"], input[type="tel"]');
        if (firstInput) {
          setTimeout(() => firstInput.focus(), 100);
        }
      }
    }
    
    function closeModal() {
      const modals = document.querySelectorAll('.modal-overlay');
      modals.forEach(modal => {
        modal.style.display = 'none';
      });
      document.body.style.overflow = '';
    }
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    document.addEventListener('click', function(e) {
      if (e.target.classList.contains('modal-overlay')) {
        closeModal();
      }
    });
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeModal();
      }
    });
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ –ø–æ –∫–Ω–æ–ø–∫–∞–º –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
    document.addEventListener('DOMContentLoaded', function() {
      const calcButtons = document.querySelectorAll('a[href="#smart-calculator"]');
      calcButtons.forEach(button => {
        button.addEventListener('click', function(e) {
          e.preventDefault();
          openModal('lead-modal');
        });
      });
    });

    // –§—É–Ω–∫—Ü–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    function runAllTests() {
      const results = [];
      
      // –¢–µ—Å—Ç 1: CSS —Å—Ç–∏–ª–∏ hero
      const heroElement = document.querySelector('.hero');
      const heroStyles = window.getComputedStyle(heroElement);
      const hasBgImage = heroStyles.backgroundImage && heroStyles.backgroundImage !== 'none';
      results.push({
        name: 'Hero —Ñ–æ–Ω',
        passed: hasBgImage,
        details: `Background: ${hasBgImage ? '‚úÖ' : '‚ùå'}`
      });
      
      // –¢–µ—Å—Ç 2: Z-index –∏–µ—Ä–∞—Ä—Ö–∏—è
      const heroContent = document.querySelector('.hero-content');
      const contentStyles = window.getComputedStyle(heroContent);
      const zIndex = parseInt(contentStyles.zIndex) || 0;
      results.push({
        name: 'Z-index –∫–æ–Ω—Ç–µ–Ω—Ç–∞',
        passed: zIndex >= 3,
        details: `Z-index: ${zIndex}`
      });
      
      // –¢–µ—Å—Ç 3: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
      const modal = document.getElementById('lead-modal');
      const modalClose = document.querySelector('.modal-close');
      results.push({
        name: '–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ',
        passed: modal && modalClose,
        details: `Modal: ${modal ? '‚úÖ' : '‚ùå'}, Close: ${modalClose ? '‚úÖ' : '‚ùå'}`
      });
      
      // –¢–µ—Å—Ç 4: –ö–Ω–æ–ø–∫–∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã
      const heroButtons = document.querySelectorAll('.hero .btn');
      const buttonsClickable = heroButtons.length > 0;
      results.push({
        name: '–ö–Ω–æ–ø–∫–∏ hero',
        passed: buttonsClickable,
        details: `–ù–∞–π–¥–µ–Ω–æ ${heroButtons.length} –∫–Ω–æ–ø–æ–∫`
      });
      
      // –¢–µ—Å—Ç 5: –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
      const isMobile = window.innerWidth <= 768;
      const heroTextAlign = heroStyles.textAlign;
      results.push({
        name: '–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å',
        passed: !isMobile || heroTextAlign === 'center',
        details: `Width: ${window.innerWidth}px, Align: ${heroTextAlign}`
      });
      
      displayResults(results);
    }
    
    function displayResults(results) {
      const testResults = document.getElementById('test-results');
      const detailedResults = document.getElementById('detailed-results');
      
      let shortHtml = '';
      let detailedHtml = '<h3>üìä –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:</h3>';
      
      results.forEach(result => {
        const status = result.passed ? 'pass' : 'fail';
        const icon = result.passed ? '‚úÖ' : '‚ùå';
        
        shortHtml += `<div class="test-result ${status}">${icon} ${result.name}</div>`;
        detailedHtml += `
          <div style="margin: 10px 0; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
            <strong>${icon} ${result.name}:</strong> ${result.details}
          </div>
        `;
      });
      
      testResults.innerHTML = shortHtml;
      detailedResults.innerHTML = detailedHtml;
    }
    
    function testModal() {
      openModal('lead-modal');
    }
    
    function testHeroButtons() {
      const buttons = document.querySelectorAll('.hero .btn');
      buttons.forEach((btn, index) => {
        btn.style.border = '3px solid red';
        setTimeout(() => {
          btn.style.border = '';
        }, 2000);
      });
      alert(`–ù–∞–π–¥–µ–Ω–æ ${buttons.length} –∫–Ω–æ–ø–æ–∫ –≤ hero. –û–Ω–∏ –ø–æ–¥—Å–≤–µ—á–µ–Ω—ã –∫—Ä–∞—Å–Ω–æ–π —Ä–∞–º–∫–æ–π –Ω–∞ 2 —Å–µ–∫—É–Ω–¥—ã.`);
    }
    
    function testResponsive() {
      const width = window.innerWidth;
      const hero = document.querySelector('.hero');
      const styles = window.getComputedStyle(hero);
      
      alert(`
        –†–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞: ${width}px
        –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${width <= 768 ? '–ú–æ–±–∏–ª—å–Ω–æ–µ' : '–î–µ—Å–∫—Ç–æ–ø'}
        Text-align: ${styles.textAlign}
        Background: ${styles.backgroundImage !== 'none' ? '–ï—Å—Ç—å' : '–ù–µ—Ç'}
        Display: ${styles.display}
      `);
    }
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    window.addEventListener('load', function() {
      setTimeout(runAllTests, 1000);
    });
  </script>
</body>
</html>