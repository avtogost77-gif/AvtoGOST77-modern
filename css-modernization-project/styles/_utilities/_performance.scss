// ============================================
// –£–¢–ò–õ–ò–¢–´ –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò - AvtoGOST77
// ============================================
// –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: 31 –∞–≤–≥—É—Å—Ç–∞ 2025
// –ê–≤—Ç–æ—Ä: AI Assistant
// –û–ø–∏—Å–∞–Ω–∏–µ: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Core Web Vitals –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

// ============================================
// LCP (Largest Contentful Paint) –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø
// ============================================

// –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è LCP
.lcp-optimized {
  will-change: transform;
  contain: layout style paint;
  
  // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
  &[data-priority="high"] {
    font-display: swap;
    font-loading: swap;
  }
}

// Hero —Å–µ–∫—Ü–∏—è - –∫—Ä–∏—Ç–∏—á–Ω–∞ –¥–ª—è LCP
.hero__content {
  contain: layout style paint;
  will-change: transform;
  
  // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  img {
    loading: eager;
    decoding: sync;
  }
}

// –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä - –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è LCP
.calculator__hero {
  contain: layout style paint;
  will-change: transform;
  
  // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
  &[data-critical="true"] {
    font-display: swap;
  }
}

// ============================================
// CLS (Cumulative Layout Shift) –ó–ê–©–ò–¢–ê
// ============================================

// –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–¥–≤–∏–≥–æ–≤
.cls-protected {
  aspect-ratio: 16/9;
  min-height: 200px;
  
  // –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Å—Ç–∞ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  &::before {
    content: '';
    display: block;
    padding-top: 56.25%; // 16:9 ratio
  }
}

// –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏
.calculator__step {
  min-height: 200px;
  aspect-ratio: 16/9;
  
  // –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Å—Ç–∞ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  &[data-step="1"] { min-height: 250px; }
  &[data-step="2"] { min-height: 300px; }
  &[data-step="3"] { min-height: 200px; }
}

// –ö–∞—Ä—Ç–æ—á–∫–∏ —É—Å–ª—É–≥ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏
.card {
  min-height: 300px;
  aspect-ratio: 4/3;
  
  // –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Å—Ç–∞ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  &__image {
    aspect-ratio: 16/9;
    min-height: 150px;
  }
}

// ============================================
// FID (First Input Delay) –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø
// ============================================

// –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
.fid-optimized {
  touch-action: manipulation;
  will-change: transform;
  
  // –£–±–∏—Ä–∞–µ–º –∑–∞–¥–µ—Ä–∂–∫–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
  @media (max-width: 768px) {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }
}

// –ö–Ω–æ–ø–∫–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
.calculator__button {
  touch-action: manipulation;
  will-change: transform;
  
  // –£–±–∏—Ä–∞–µ–º –∑–∞–¥–µ—Ä–∂–∫–∏
  &:active {
    transform: scale(0.98);
  }
}

// –§–æ—Ä–º—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
.form__input {
  touch-action: manipulation;
  
  // –£–±–∏—Ä–∞–µ–º –∑–∞–¥–µ—Ä–∂–∫–∏ –Ω–∞ —Ñ–æ–∫—É—Å
  &:focus {
    transform: none;
  }
}

// ============================================
// INP (Interaction to Next Paint) –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø
// ============================================

// –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫
.inp-optimized {
  // –£–±–∏—Ä–∞–µ–º —Å–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
  transform: translateZ(0);
  backface-visibility: hidden;
  
  // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–π
  transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

// ============================================
// –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô CSS –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø
// ============================================

// –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
.critical-first-screen {
  // –°—Ç–∏–ª–∏ –¥–ª—è hero —Å–µ–∫—Ü–∏–∏
  .hero {
    background: var(--gradient-primary);
    color: var(--color-white);
    min-height: 100vh;
  }
  
  // –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
  .calculator__hero {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
  }
  
  // –°—Ç–∏–ª–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
  .header {
    position: sticky;
    top: 0;
    z-index: 100;
  }
}

// ============================================
// –õ–ï–ù–ò–í–ê–Ø –ó–ê–ì–†–£–ó–ö–ê –°–¢–ò–õ–ï–ô
// ============================================

// –°—Ç–∏–ª–∏ –¥–ª—è –Ω–µ-–∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–µ–∫—Ü–∏–π
.lazy-load {
  opacity: 0;
  animation: fadeIn 0.3s ease forwards;
  
  // –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
  &[data-loaded="true"] {
    opacity: 1;
  }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

// ============================================
// –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –î–õ–Ø –°–õ–ê–ë–´–• –£–°–¢–†–û–ô–°–¢–í
// ============================================

// –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
@media (max-width: 480px) {
  .performance-optimized {
    // –£–±–∏—Ä–∞–µ–º —Ç–µ–Ω–∏
    box-shadow: none;
    
    // –û—Ç–∫–ª—é—á–∞–µ–º —Å–ª–æ–∂–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
    backdrop-filter: none;
    filter: none;
    
    // –£–ø—Ä–æ—â–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏
    transition: none;
    animation: none;
  }
}

// Reduced motion –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
@media (prefers-reduced-motion: reduce) {
  .performance-optimized {
    transition: none;
    animation: none;
    transform: none;
  }
}

// ============================================
// –ö–≠–®–ò–†–û–í–ê–ù–ò–ï –ò –í–ï–†–°–ò–û–ù–ò–†–û–í–ê–ù–ò–ï
// ============================================

// –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ CSS –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
.css-versioned {
  &[data-version="1.0.0"] {
    // –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏
  }
  
  &[data-version="1.1.0"] {
    // –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏
  }
}

// –ö—ç—à-–±—é—Å—Ç –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å—Ç–∏–ª–µ–π
.critical-cache-bust {
  &[data-cache="false"] {
    // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
  }
}

// ============================================
// –ú–û–ù–ò–¢–û–†–ò–ù–ì –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò
// ============================================

// CSS –∫–ª–∞—Å—Å—ã –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
.performance-tracked {
  // –¢—Ä–µ–∫–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏
  &[data-load-time="fast"] { /* < 1 —Å–µ–∫ */ }
  &[data-load-time="medium"] { /* 1-3 —Å–µ–∫ */ }
  &[data-load-time="slow"] { /* > 3 —Å–µ–∫ */ }
  
  // –¢—Ä–µ–∫–∏–Ω–≥ Core Web Vitals
  &[data-lcp="good"] { /* < 2.5 —Å–µ–∫ */ }
  &[data-lcp="needs-improvement"] { /* 2.5-4 —Å–µ–∫ */ }
  &[data-lcp="poor"] { /* > 4 —Å–µ–∫ */ }
  
  &[data-cls="good"] { /* < 0.1 */ }
  &[data-cls="needs-improvement"] { /* 0.1-0.25 */ }
  &[data-cls="poor"] { /* > 0.25 */ }
  
  &[data-fid="good"] { /* < 100–º—Å */ }
  &[data-fid="needs-improvement"] { /* 100-300–º—Å */ }
  &[data-fid="poor"] { /* > 300–º—Å */ }
}

// ============================================
// –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –®–†–ò–§–¢–û–í
// ============================================

// –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —à—Ä–∏—Ñ—Ç–æ–≤
.font-optimized {
  font-display: swap;
  font-loading: swap;
  
  // Preload –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —à—Ä–∏—Ñ—Ç–æ–≤
  &[data-preload="true"] {
    font-display: block;
  }
}

// ============================================
// –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô
// ============================================

// –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
.image-optimized {
  // –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
  loading: lazy;
  decoding: async;
  
  // –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  &[data-critical="true"] {
    loading: eager;
    decoding: sync;
  }
  
  // WebP –ø–æ–¥–¥–µ—Ä–∂–∫–∞
  &[data-format="webp"] {
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ WebP
  }
}

// ============================================
// –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –°–ï–¢–ò
// ============================================

// –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
@media (prefers-reduced-data: reduce) {
  .network-optimized {
    // –£–±–∏—Ä–∞–µ–º –Ω–µ-–∫—Ä–∏—Ç–∏—á–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    background-image: none;
    
    // –£–ø—Ä–æ—â–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏
    animation: none;
    transition: none;
    
    // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
    box-shadow: none;
    border-radius: 0;
  }
}

// ============================================
// –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ë–ê–¢–ê–†–ï–ò
// ============================================

// –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –±–∞—Ç–∞—Ä–µ–∏
@media (prefers-reduced-motion: reduce) {
  .battery-optimized {
    // –£–±–∏—Ä–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏
    animation: none;
    transition: none;
    
    // –£–ø—Ä–æ—â–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç—ã
    box-shadow: none;
    backdrop-filter: none;
  }
}

// ============================================
// –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò –ü–û –†–ê–ó–†–ê–ë–û–¢–ö–ï
// ============================================
/*
–°–¢–ê–¢–£–° –†–ê–ó–†–ê–ë–û–¢–ö–ò:

‚úÖ –ì–û–¢–û–í–û:
- LCP –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- CLS –∑–∞—â–∏—Ç–∞
- FID –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π CSS
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

üéØ –¶–ï–õ–¨ –≠–¢–ê–ü–ê 7.1:
–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Core Web Vitals –¥–ª—è PageSpeed 95+
*/
