const fs = require('fs');
const path = require('path');

// Дополнительные секции контента для разных типов страниц
const CONTENT_SECTIONS = {
  // Для главной страницы
  homepage: {
    afterHero: `
    <!-- Развернутое описание компании -->
    <section class="company-overview section">
        <div class="container">
            <h2>АвтоГОСТ - Ваш надежный партнер в грузоперевозках с 2015 года</h2>
            <div class="overview-grid">
                <div class="overview-text">
                    <p>Компания АвтоГОСТ начала свою деятельность в 2015 году как небольшая транспортная компания, специализирующаяся на грузоперевозках по Москве и Московской области. За годы работы мы выросли в крупную логистическую компанию федерального уровня, охватывающую всю территорию России.</p>
                    
                    <p>Наша миссия - сделать грузоперевозки простыми, надежными и доступными для каждого клиента. Мы понимаем, что за каждым грузом стоит важная задача: открытие нового магазина, переезд производства, доставка товаров покупателям или реализация строительного проекта. Именно поэтому мы подходим к каждому заказу с максимальной ответственностью и вниманием к деталям.</p>
                    
                    <h3>Наши ключевые преимущества</h3>
                    <p>За годы работы мы выработали уникальный подход к организации грузоперевозок, который позволяет нам оставаться лидерами рынка:</p>
                    
                    <ul class="advantages-list">
                        <li><strong>Обширная партнерская сеть</strong> - более 5000 проверенных перевозчиков по всей России. Это позволяет нам подать транспорт в любую точку страны в кратчайшие сроки.</li>
                        <li><strong>Гибкая ценовая политика</strong> - мы работаем как с крупными корпоративными клиентами, так и с частными лицами, предлагая оптимальные тарифы для каждого.</li>
                        <li><strong>Полный спектр услуг</strong> - от перевозки небольших грузов на газелях до транспортировки негабаритного оборудования на специализированном транспорте.</li>
                        <li><strong>Современные технологии</strong> - онлайн-калькулятор, система отслеживания грузов, электронный документооборот.</li>
                        <li><strong>Страхование грузов</strong> - все перевозки застрахованы, что гарантирует полную компенсацию в случае непредвиденных ситуаций.</li>
                    </ul>
                </div>
                <div class="overview-stats">
                    <div class="stat-card">
                        <h4>10+ лет</h4>
                        <p>успешной работы на рынке грузоперевозок</p>
                    </div>
                    <div class="stat-card">
                        <h4>50 000+</h4>
                        <p>выполненных заказов по всей России</p>
                    </div>
                    <div class="stat-card">
                        <h4>5 000+</h4>
                        <p>проверенных перевозчиков в базе</p>
                    </div>
                    <div class="stat-card">
                        <h4>98%</h4>
                        <p>клиентов рекомендуют нас друзьям</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Детальное описание услуг -->
    <section class="detailed-services section bg-light">
        <div class="container">
            <h2>Полный спектр логистических услуг для вашего бизнеса</h2>
            
            <div class="service-category">
                <h3>Междугородние грузоперевозки</h3>
                <p>Междугородние перевозки - основное направление нашей деятельности. Мы организуем доставку грузов между любыми городами России, от Калининграда до Владивостока. Наши логисты тщательно прорабатывают маршруты, учитывая особенности дорожной инфраструктуры, погодные условия и специфику груза.</p>
                
                <div class="service-features">
                    <div class="feature">
                        <h4>Оптимальные маршруты</h4>
                        <p>Наши специалисты рассчитывают наиболее выгодные маршруты с учетом расстояния, состояния дорог, наличия платных участков и времени в пути. Это позволяет минимизировать транспортные расходы и сократить сроки доставки.</p>
                    </div>
                    <div class="feature">
                        <h4>Все виды транспорта</h4>
                        <p>В зависимости от объема и характеристик груза мы подберем оптимальный транспорт: от небольших газелей для малогабаритных грузов до 20-тонных фур для крупных партий товаров.</p>
                    </div>
                    <div class="feature">
                        <h4>Сборные грузы</h4>
                        <p>Для экономии на доставке небольших партий товаров мы предлагаем услугу сборных грузов. Ваш груз будет доставлен вместе с другими отправлениями по тому же маршруту, что позволит сэкономить до 35% от стоимости отдельной машины.</p>
                    </div>
                </div>
            </div>
            
            <div class="service-category">
                <h3>Городские грузоперевозки</h3>
                <p>Организуем оперативную доставку грузов в пределах города. Наши водители отлично знают городскую инфраструктуру, что позволяет выбирать оптимальные маршруты с учетом пробок и ограничений для грузового транспорта.</p>
                
                <ul class="service-list">
                    <li>Доставка товаров из складов в магазины</li>
                    <li>Перевозка офисной мебели и оборудования при переездах</li>
                    <li>Транспортировка строительных материалов на объекты</li>
                    <li>Курьерская доставка крупногабаритных грузов</li>
                    <li>Вывоз и утилизация строительного мусора</li>
                </ul>
            </div>
            
            <div class="service-category">
                <h3>Специализированные перевозки</h3>
                <p>Некоторые грузы требуют особого подхода и специального транспорта. Мы имеем опыт и необходимые ресурсы для организации перевозок:</p>
                
                <div class="special-services-grid">
                    <div class="special-service">
                        <h4>Негабаритные грузы</h4>
                        <p>Перевозка крупногабаритного оборудования, строительной техники, металлоконструкций. Организуем сопровождение, получение разрешений, разработку специальных маршрутов.</p>
                    </div>
                    <div class="special-service">
                        <h4>Опасные грузы</h4>
                        <p>Транспортировка грузов классов опасности с соблюдением всех требований безопасности. Специально оборудованный транспорт, обученные водители, необходимые разрешения.</p>
                    </div>
                    <div class="special-service">
                        <h4>Температурные грузы</h4>
                        <p>Доставка продуктов питания, медикаментов и других грузов, требующих соблюдения температурного режима. Рефрижераторы с контролем температуры от -25°C до +25°C.</p>
                    </div>
                    <div class="special-service">
                        <h4>Ценные грузы</h4>
                        <p>Перевозка электроники, ювелирных изделий, произведений искусства. Усиленная охрана, специальная упаковка, повышенное страховое покрытие.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Процесс работы -->
    <section class="work-process section">
        <div class="container">
            <h2>Как мы работаем: простой и прозрачный процесс</h2>
            <p class="section-intro">Мы максимально упростили процесс заказа грузоперевозки, чтобы вы могли сосредоточиться на своих делах, а не на логистике.</p>
            
            <div class="process-timeline">
                <div class="process-step">
                    <div class="step-number">1</div>
                    <h3>Расчет стоимости</h3>
                    <p>Используйте наш онлайн-калькулятор для мгновенного расчета стоимости перевозки. Укажите маршрут, вес и габариты груза - система автоматически подберет оптимальный транспорт и рассчитает цену. Никаких скрытых платежей - вы сразу видите финальную стоимость.</p>
                </div>
                
                <div class="process-step">
                    <div class="step-number">2</div>
                    <h3>Оформление заказа</h3>
                    <p>После расчета вы можете сразу оформить заказ онлайн или позвонить нашим менеджерам для уточнения деталей. Мы поможем выбрать оптимальный тип транспорта, согласуем время подачи и особые требования к перевозке.</p>
                </div>
                
                <div class="process-step">
                    <div class="step-number">3</div>
                    <h3>Подача транспорта</h3>
                    <p>В согласованное время к вам прибудет транспорт с опытным водителем. Все наши водители проходят тщательный отбор и регулярное обучение. Они помогут с погрузкой, проверят надежность крепления груза и оформят необходимые документы.</p>
                </div>
                
                <div class="process-step">
                    <div class="step-number">4</div>
                    <h3>Отслеживание груза</h3>
                    <p>После отправки вы получите код для отслеживания груза в режиме реального времени. В личном кабинете доступна информация о местоположении транспорта, ожидаемом времени прибытия и статусе доставки. При необходимости наши логисты всегда на связи.</p>
                </div>
                
                <div class="process-step">
                    <div class="step-number">5</div>
                    <h3>Доставка и отчетность</h3>
                    <p>По прибытии водитель свяжется с получателем, организует разгрузку и передаст груз. После завершения доставки вы получите полный пакет закрывающих документов. Для постоянных клиентов доступен электронный документооборот.</p>
                </div>
            </div>
        </div>
    </section>`,
    
    beforeFooter: `
    <!-- География услуг -->
    <section class="geography section bg-light">
        <div class="container">
            <h2>География наших услуг: вся Россия</h2>
            <p>Мы организуем грузоперевозки по всей территории России. Наша партнерская сеть охватывает все регионы страны, от крупных мегаполисов до небольших населенных пунктов.</p>
            
            <div class="regions-grid">
                <div class="region">
                    <h3>Центральный федеральный округ</h3>
                    <p>Москва и Московская область - наш базовый регион. Ежедневно выполняем сотни заказов по столице и области. Также активно работаем во всех областях ЦФО: Тульской, Рязанской, Владимирской, Ярославской, Костромской и других.</p>
                    <ul>
                        <li>Подача транспорта в Москве - от 2 часов</li>
                        <li>Доставка по Московской области - в день заказа</li>
                        <li>Междугородние перевозки из Москвы - ежедневно</li>
                    </ul>
                </div>
                
                <div class="region">
                    <h3>Северо-Западный федеральный округ</h3>
                    <p>Санкт-Петербург - второй по значимости хаб нашей компании. Организуем перевозки как внутри северной столицы, так и по всему Северо-Западу России, включая Карелию, Мурманскую область, Псков и Великий Новгород.</p>
                    <ul>
                        <li>Маршрут Москва-СПб - ежедневные отправки</li>
                        <li>Доставка в города Ленинградской области</li>
                        <li>Перевозки в Калининград через Прибалтику</li>
                    </ul>
                </div>
                
                <div class="region">
                    <h3>Приволжский федеральный округ</h3>
                    <p>Крупнейший промышленный регион России с развитой транспортной инфраструктурой. Наши ключевые направления: Нижний Новгород, Казань, Самара, Уфа, Пермь, Саратов, Оренбург.</p>
                    <ul>
                        <li>Сборные грузы по всему Поволжью</li>
                        <li>Доставка на производства региона</li>
                        <li>Специализированные перевозки для нефтехимии</li>
                    </ul>
                </div>
                
                <div class="region">
                    <h3>Южный и Северо-Кавказский округа</h3>
                    <p>Активно развивающиеся регионы с растущим спросом на логистические услуги. Основные направления: Ростов-на-Дону, Краснодар, Волгоград, Ставрополь, Сочи, Симферополь.</p>
                    <ul>
                        <li>Доставка в курортные города</li>
                        <li>Сельскохозяйственные перевозки</li>
                        <li>Снабжение строительных объектов</li>
                    </ul>
                </div>
                
                <div class="region">
                    <h3>Уральский федеральный округ</h3>
                    <p>Промышленное сердце России требует надежной логистики. Мы обеспечиваем бесперебойные поставки в Екатеринбург, Челябинск, Тюмень, Сургут, Нижневартовск.</p>
                    <ul>
                        <li>Доставка на промышленные предприятия</li>
                        <li>Вахтовые перевозки в ХМАО и ЯНАО</li>
                        <li>Транспортировка оборудования для добычи</li>
                    </ul>
                </div>
                
                <div class="region">
                    <h3>Сибирь и Дальний Восток</h3>
                    <p>Самые протяженные маршруты требуют особого подхода. Мы имеем опыт организации перевозок в Новосибирск, Красноярск, Иркутск, Хабаровск, Владивосток с учетом всех особенностей дальних расстояний.</p>
                    <ul>
                        <li>Мультимодальные перевозки</li>
                        <li>Доставка в труднодоступные районы</li>
                        <li>Контейнерные перевозки из портов</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ раздел -->
    <section class="extended-faq section">
        <div class="container">
            <h2>Ответы на частые вопросы о грузоперевозках</h2>
            
            <div class="faq-categories">
                <div class="faq-category">
                    <h3>Общие вопросы</h3>
                    
                    <div class="faq-item">
                        <h4>Как быстро вы можете подать транспорт?</h4>
                        <p>В Москве и Санкт-Петербурге стандартное время подачи составляет 2-4 часа. В других крупных городах - от 4 до 8 часов. Для отдаленных районов время подачи согласовывается индивидуально, обычно это 1-2 дня.</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>Какие документы нужны для перевозки?</h4>
                        <p>Минимальный набор документов включает: паспорт заказчика (или доверенность от организации), описание груза, контакты получателя. Для юридических лиц также потребуется товарная накладная. Для специальных грузов могут потребоваться дополнительные разрешения.</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>Можно ли отправить груз без сопровождения?</h4>
                        <p>Да, мы организуем перевозки без сопровождения. Водитель заберет груз по указанному адресу и доставит получателю. Важно правильно оформить документы и обеспечить встречу груза на месте назначения.</p>
                    </div>
                </div>
                
                <div class="faq-category">
                    <h3>О стоимости и оплате</h3>
                    
                    <div class="faq-item">
                        <h4>Что входит в стоимость перевозки?</h4>
                        <p>В указанную стоимость входит: подача транспорта, работа водителя, топливо, оплата платных дорог (если маршрут проходит по ним). Дополнительно могут оплачиваться: грузчики, упаковка, страхование сверх базового лимита, специальные разрешения.</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>Как происходит оплата?</h4>
                        <p>Для физических лиц: наличными водителю, переводом на карту, через СБП. Для организаций: безналичный расчет с НДС или без НДС, постоплата для постоянных клиентов. Возможна работа по договору с отсрочкой платежа.</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>Есть ли скидки постоянным клиентам?</h4>
                        <p>Да, мы ценим постоянных клиентов. При регулярных заказах предоставляются скидки от 5 до 15%. Также действуют специальные тарифы для договорных клиентов с большими объемами перевозок.</p>
                    </div>
                </div>
                
                <div class="faq-category">
                    <h3>О безопасности и страховании</h3>
                    
                    <div class="faq-item">
                        <h4>Как вы обеспечиваете сохранность груза?</h4>
                        <p>Все грузы автоматически страхуются на сумму до 500 000 рублей. Мы работаем только с проверенными водителями, используем пломбы и системы контроля. При необходимости организуем дополнительную охрану и увеличенное страховое покрытие.</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>Что делать, если груз поврежден?</h4>
                        <p>При получении груза обязательно проверьте его состояние в присутствии водителя. Если обнаружены повреждения, составляется акт, на основании которого страховая компания выплачивает компенсацию. Мы помогаем в оформлении всех документов.</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>Можно ли отследить груз в пути?</h4>
                        <p>Да, все наши перевозки можно отследить онлайн. После отправки вы получите трек-номер для доступа в систему мониторинга. Там отображается текущее местоположение транспорта и ориентировочное время прибытия.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>`
  },
  
  // Для страниц маршрутов
  route: {
    afterPricing: `
    <!-- Подробное описание маршрута -->
    <section class="route-detailed section">
        <div class="container">
            <h2>Все о грузоперевозках по маршруту {FROM_CITY} - {TO_CITY}</h2>
            
            <div class="route-info-grid">
                <div class="route-description">
                    <h3>Особенности маршрута</h3>
                    <p>Маршрут {FROM_CITY} - {TO_CITY} является одним из востребованных направлений грузоперевозок. Расстояние между городами составляет {DISTANCE} км, что делает данное направление оптимальным для различных видов транспорта - от небольших газелей до крупнотоннажных фур.</p>
                    
                    <p>Дорожная инфраструктура на данном направлении хорошо развита. Основная часть маршрута проходит по федеральным трассам с качественным покрытием, что позволяет поддерживать стабильную скорость движения и соблюдать сроки доставки. На протяжении всего пути расположены заправочные станции, пункты отдыха и сервисные центры.</p>
                    
                    <h4>Варианты маршрутов</h4>
                    <p>В зависимости от типа груза и требований к срокам доставки, наши логисты подбирают оптимальный маршрут:</p>
                    <ul>
                        <li><strong>Основной маршрут</strong> - проходит по федеральным трассам, оптимален для большинства грузов</li>
                        <li><strong>Альтернативный маршрут</strong> - используется при ремонтных работах или высокой загруженности основной трассы</li>
                        <li><strong>Маршрут для негабарита</strong> - специально разработан с учетом ограничений по высоте и ширине</li>
                    </ul>
                </div>
                
                <div class="route-stats">
                    <h3>Статистика маршрута</h3>
                    <div class="stats-grid">
                        <div class="stat">
                            <span class="stat-value">{DISTANCE} км</span>
                            <span class="stat-label">Расстояние</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value">{TIME} ч</span>
                            <span class="stat-label">Время в пути</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value">от {PRICE} ₽</span>
                            <span class="stat-label">Стоимость</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value">Ежедневно</span>
                            <span class="stat-label">Отправки</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="transport-types">
                <h3>Выбор транспорта для маршрута {FROM_CITY} - {TO_CITY}</h3>
                
                <div class="transport-cards">
                    <div class="transport-card">
                        <h4>Газель (до 2 тонн)</h4>
                        <p>Идеальный выбор для небольших партий товара, переездов, доставки мебели и бытовой техники. Газели могут заезжать в центр города, имеют пропуска для работы в ограниченных зонах.</p>
                        <ul>
                            <li>Грузоподъемность: до 2 тонн</li>
                            <li>Объем: до 20 м³</li>
                            <li>Стоимость: от {PRICE} ₽</li>
                            <li>Срок доставки: {TIME_FAST} часов</li>
                        </ul>
                    </div>
                    
                    <div class="transport-card">
                        <h4>5-тонник</h4>
                        <p>Оптимальное решение для средних объемов груза. Подходит для перевозки строительных материалов, оборудования, товаров для магазинов.</p>
                        <ul>
                            <li>Грузоподъемность: до 5 тонн</li>
                            <li>Объем: до 35 м³</li>
                            <li>Стоимость: от {PRICE_5T} ₽</li>
                            <li>Срок доставки: {TIME_NORMAL} часов</li>
                        </ul>
                    </div>
                    
                    <div class="transport-card">
                        <h4>10-тонник</h4>
                        <p>Для крупных партий товара, промышленного оборудования, оптовых поставок. Хороший баланс между вместимостью и маневренностью.</p>
                        <ul>
                            <li>Грузоподъемность: до 10 тонн</li>
                            <li>Объем: до 55 м³</li>
                            <li>Стоимость: от {PRICE_10T} ₽</li>
                            <li>Срок доставки: {TIME_NORMAL} часов</li>
                        </ul>
                    </div>
                    
                    <div class="transport-card">
                        <h4>Фура 20 тонн</h4>
                        <p>Максимальная вместимость для крупных грузов. Используется для поставок на склады, межрегиональных перевозок больших объемов.</p>
                        <ul>
                            <li>Грузоподъемность: до 20 тонн</li>
                            <li>Объем: до 90 м³</li>
                            <li>Стоимость: от {PRICE_20T} ₽</li>
                            <li>Срок доставки: {TIME_SLOW} дней</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Дополнительные услуги -->
    <section class="additional-services section bg-light">
        <div class="container">
            <h2>Дополнительные услуги на маршруте {FROM_CITY} - {TO_CITY}</h2>
            
            <div class="services-grid">
                <div class="service">
                    <h3>Упаковка и маркировка груза</h3>
                    <p>Профессиональная упаковка груза значительно снижает риск повреждений при транспортировке. Мы предлагаем различные виды упаковочных материалов и способы упаковки в зависимости от типа груза.</p>
                    <ul>
                        <li>Стрейч-пленка и воздушно-пузырьковая пленка</li>
                        <li>Картонные коробки различных размеров</li>
                        <li>Деревянные ящики и обрешетки для хрупких грузов</li>
                        <li>Маркировка специальными знаками</li>
                    </ul>
                </div>
                
                <div class="service">
                    <h3>Погрузочно-разгрузочные работы</h3>
                    <p>Наши грузчики имеют опыт работы с различными типами грузов и знают, как правильно обращаться с хрупкими и ценными предметами. Мы предоставляем необходимое оборудование для погрузки.</p>
                    <ul>
                        <li>Профессиональные грузчики</li>
                        <li>Гидроборт для тяжелых грузов</li>
                        <li>Тележки и рохли</li>
                        <li>Ремни и стропы для крепления</li>
                    </ul>
                </div>
                
                <div class="service">
                    <h3>Страхование груза</h3>
                    <p>Хотя базовое страхование включено в стоимость, для особо ценных грузов мы рекомендуем дополнительное страхование. Это обеспечит полную компенсацию в случае непредвиденных ситуаций.</p>
                    <ul>
                        <li>Базовое покрытие до 500 000 ₽</li>
                        <li>Расширенное страхование до 5 млн ₽</li>
                        <li>Страхование от всех рисков</li>
                        <li>Быстрое урегулирование убытков</li>
                    </ul>
                </div>
                
                <div class="service">
                    <h3>Экспедирование и таможня</h3>
                    <p>Для международных перевозок или грузов, требующих специального оформления, мы предоставляем услуги экспедирования. Наши специалисты помогут с документами и прохождением необходимых процедур.</p>
                    <ul>
                        <li>Оформление товарно-транспортных накладных</li>
                        <li>Подготовка документов для таможни</li>
                        <li>Консультации по требованиям</li>
                        <li>Сопровождение на всех этапах</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>`,
    
    beforeFAQ: `
    <!-- Полезная информация -->
    <section class="useful-info section">
        <div class="container">
            <h2>Полезная информация для отправителей на маршруте {FROM_CITY} - {TO_CITY}</h2>
            
            <div class="info-blocks">
                <div class="info-block">
                    <h3>Как подготовить груз к отправке</h3>
                    <p>Правильная подготовка груза - залог его сохранности и своевременной доставки. Следуйте этим рекомендациям:</p>
                    <ol>
                        <li><strong>Упакуйте груз надежно.</strong> Используйте качественные упаковочные материалы, соответствующие типу груза. Хрупкие предметы оберните воздушно-пузырьковой пленкой, тяжелые грузы поместите на поддоны.</li>
                        <li><strong>Промаркируйте коробки.</strong> Укажите на каждом месте информацию об отправителе и получателе, номер заказа. Для хрупких грузов используйте специальные наклейки.</li>
                        <li><strong>Составьте опись.</strong> Детальный список содержимого поможет при проверке комплектности и оформлении документов.</li>
                        <li><strong>Подготовьте документы.</strong> Заранее подготовьте все необходимые документы: накладные, сертификаты, разрешения.</li>
                        <li><strong>Обеспечьте доступ.</strong> Убедитесь, что к месту погрузки может подъехать грузовой транспорт нужного размера.</li>
                    </ol>
                </div>
                
                <div class="info-block">
                    <h3>Оптимальное время для отправки</h3>
                    <p>Выбор времени отправки может существенно повлиять на стоимость и скорость доставки:</p>
                    <ul>
                        <li><strong>Понедельник-четверг</strong> - оптимальные дни для отправки. Меньше загруженность дорог, больше доступных машин.</li>
                        <li><strong>Утренние часы (8:00-11:00)</strong> - лучшее время для начала перевозки. Водитель успеет преодолеть значительную часть пути до вечерних пробок.</li>
                        <li><strong>Избегайте пятниц и предпраздничных дней</strong> - в эти дни спрос на перевозки максимальный, цены выше на 15-20%.</li>
                        <li><strong>Учитывайте сезонность</strong> - в период с мая по сентябрь спрос на грузоперевозки возрастает из-за строительного сезона.</li>
                    </ul>
                </div>
                
                <div class="info-block">
                    <h3>Экономия на перевозках</h3>
                    <p>Несколько способов снизить стоимость грузоперевозки без ущерба качеству:</p>
                    <div class="savings-tips">
                        <div class="tip">
                            <h4>Планируйте заранее</h4>
                            <p>Заказ транспорта за 2-3 дня позволяет выбрать оптимальный вариант и избежать срочных тарифов.</p>
                        </div>
                        <div class="tip">
                            <h4>Используйте попутный транспорт</h4>
                            <p>Если ваш груз может подождать 1-2 дня, попутная машина обойдется на 30-40% дешевле.</p>
                        </div>
                        <div class="tip">
                            <h4>Объединяйте отправки</h4>
                            <p>Накопите несколько заказов и отправьте их одной машиной - это выгоднее нескольких мелких отправок.</p>
                        </div>
                        <div class="tip">
                            <h4>Оптимизируйте упаковку</h4>
                            <p>Компактная упаковка уменьшает объем груза, что может позволить использовать транспорт меньшей вместимости.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>`
  },
  
  // Для страниц услуг
  service: {
    afterDescription: `
    <!-- Детальное описание услуги -->
    <section class="service-detailed section">
        <div class="container">
            <div class="service-overview">
                <h2>Полное описание услуги</h2>
                <p>Наша компания предоставляет комплексные решения в области грузоперевозок, адаптированные под конкретные потребности каждого клиента. Мы понимаем, что каждый груз уникален, и подходим к организации перевозок с учетом всех особенностей.</p>
                
                <div class="service-aspects">
                    <div class="aspect">
                        <h3>Индивидуальный подход</h3>
                        <p>Каждый заказ рассматривается индивидуально. Наши логисты анализируют характеристики груза, требования к срокам доставки, бюджет клиента и предлагают оптимальное решение. Мы не используем шаблонные схемы - для каждого клиента разрабатывается персональный логистический план.</p>
                    </div>
                    
                    <div class="aspect">
                        <h3>Комплексное обслуживание</h3>
                        <p>Мы берем на себя все этапы организации перевозки: от первичной консультации до доставки груза получателю. Это включает подбор транспорта, оформление документов, страхование, погрузку и разгрузку, мониторинг доставки. Вам не нужно тратить время на координацию различных подрядчиков - мы делаем все сами.</p>
                    </div>
                    
                    <div class="aspect">
                        <h3>Гарантии качества</h3>
                        <p>Мы гарантируем соблюдение сроков доставки и сохранность груза. Все перевозчики проходят тщательную проверку, транспорт регулярно проходит техническое обслуживание. В случае задержки или повреждения груза мы несем полную ответственность и компенсируем убытки.</p>
                    </div>
                </div>
            </div>
            
            <div class="service-process">
                <h2>Как происходит организация перевозки</h2>
                
                <div class="process-steps">
                    <div class="step">
                        <div class="step-number">01</div>
                        <div class="step-content">
                            <h3>Первичная консультация</h3>
                            <p>Вы связываетесь с нами любым удобным способом: по телефону, через сайт или мессенджеры. Наш менеджер выясняет все детали: что везем, откуда и куда, когда нужно доставить, есть ли особые требования. На основе этой информации мы подбираем варианты.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">02</div>
                        <div class="step-content">
                            <h3>Расчет и предложение</h3>
                            <p>В течение 15-30 минут мы подготовим коммерческое предложение с несколькими вариантами доставки. Для каждого варианта указываем тип транспорта, стоимость, сроки доставки, включенные услуги. Вы выбираете наиболее подходящий вариант.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">03</div>
                        <div class="step-content">
                            <h3>Заключение договора</h3>
                            <p>После согласования условий мы оформляем заказ. Для физических лиц достаточно устного согласия, для организаций подготавливаем договор. В документе фиксируются все условия: стоимость, сроки, ответственность сторон.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">04</div>
                        <div class="step-content">
                            <h3>Подача транспорта</h3>
                            <p>В согласованное время к месту загрузки прибывает транспорт. Водитель имеет при себе все необходимые документы, путевой лист с маршрутом, контакты ответственных лиц. При необходимости водитель помогает с погрузкой.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">05</div>
                        <div class="step-content">
                            <h3>Перевозка и мониторинг</h3>
                            <p>После отправки вы получаете доступ к системе отслеживания. В любой момент можно посмотреть, где находится груз. Наш диспетчер контролирует движение и информирует вас о ключевых этапах доставки.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">06</div>
                        <div class="step-content">
                            <h3>Доставка и документы</h3>
                            <p>По прибытии водитель связывается с получателем, организует разгрузку, передает груз и оформляет документы о получении. Вы получаете полный пакет закрывающих документов для бухгалтерии.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Преимущества работы с нами -->
    <section class="why-us-detailed section bg-light">
        <div class="container">
            <h2>Почему клиенты выбирают АвтоГОСТ</h2>
            
            <div class="advantages-grid">
                <div class="advantage">
                    <div class="advantage-icon">🚚</div>
                    <h3>Собственный и партнерский автопарк</h3>
                    <p>У нас есть собственные транспортные средства для оперативных заказов, а также налажены партнерские отношения с 5000+ перевозчиков по всей России. Это позволяет нам всегда иметь доступный транспорт и предлагать конкурентные цены.</p>
                </div>
                
                <div class="advantage">
                    <div class="advantage-icon">💼</div>
                    <h3>10+ лет опыта в логистике</h3>
                    <p>За годы работы мы изучили все тонкости грузоперевозок: знаем оптимальные маршруты, понимаем специфику различных грузов, умеем решать нестандартные задачи. Наш опыт - ваша гарантия качественной доставки.</p>
                </div>
                
                <div class="advantage">
                    <div class="advantage-icon">📱</div>
                    <h3>Современные технологии</h3>
                    <p>Онлайн-калькулятор для мгновенного расчета, система GPS-мониторинга для отслеживания груза, электронный документооборот для удобства бухгалтерии, CRM-система для быстрой обработки заказов.</p>
                </div>
                
                <div class="advantage">
                    <div class="advantage-icon">🛡️</div>
                    <h3>Полная ответственность</h3>
                    <p>Мы несем полную материальную ответственность за сохранность груза. Все перевозки застрахованы, в случае повреждения или утраты груза страховая компания выплачивает компенсацию в полном объеме.</p>
                </div>
                
                <div class="advantage">
                    <div class="advantage-icon">⏰</div>
                    <h3>Работаем 24/7</h3>
                    <p>Наша диспетчерская служба работает круглосуточно. Вы можете заказать перевозку в любое время, получить консультацию, узнать статус доставки. Мы всегда на связи и готовы помочь.</p>
                </div>
                
                <div class="advantage">
                    <div class="advantage-icon">💰</div>
                    <h3>Прозрачное ценообразование</h3>
                    <p>Никаких скрытых платежей и неожиданных доплат. Стоимость фиксируется в договоре и не меняется. Вы всегда знаете, за что платите: детальная расшифровка всех услуг в счете.</p>
                </div>
            </div>
            
            <div class="testimonials">
                <h3>Что говорят наши клиенты</h3>
                
                <div class="testimonials-grid">
                    <div class="testimonial">
                        <p>"Работаем с АвтоГОСТ уже 3 года. За это время ни одного срыва поставок. Всегда вовремя, всегда аккуратно. Особенно радует оперативность - могут организовать срочную доставку буквально за пару часов."</p>
                        <div class="testimonial-author">
                            <strong>Александр Петров</strong>
                            <span>Директор ООО "СтройМатериалы"</span>
                        </div>
                    </div>
                    
                    <div class="testimonial">
                        <p>"Для нашего интернет-магазина важна скорость доставки и сохранность товара. АвтоГОСТ полностью закрывает наши потребности. Удобно, что можно отправлять как крупные партии на склад, так и единичные заказы клиентам."</p>
                        <div class="testimonial-author">
                            <strong>Мария Иванова</strong>
                            <span>Владелец интернет-магазина мебели</span>
                        </div>
                    </div>
                    
                    <div class="testimonial">
                        <p>"Переезжали производство из Москвы в Тверь. АвтоГОСТ организовали перевозку оборудования - все прошло идеально. Особенно впечатлила проработка маршрута для негабаритных станков."</p>
                        <div class="testimonial-author">
                            <strong>Сергей Козлов</strong>
                            <span>Технический директор завода</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>`
  }
};

// Функция для подсчета слов
function countWords(htmlContent) {
  let content = htmlContent.replace(/<script[\s\S]*?<\/script>/gi, '');
  content = content.replace(/<style[\s\S]*?<\/style>/gi, '');
  content = content.replace(/<[^>]*>/g, ' ');
  content = content.replace(/\s+/g, ' ').trim();
  const words = content.match(/[\u0400-\u04FF]+|[a-zA-Z]+/g) || [];
  return words.length;
}

// Функция для добавления контента на страницу
function enhancePageContent(filePath, pageType) {
  console.log(`📝 Улучшаю контент: ${path.basename(filePath)}`);
  
  let content = fs.readFileSync(filePath, 'utf8');
  const originalWords = countWords(content);
  
  // Получаем дополнительные секции для типа страницы
  const sections = CONTENT_SECTIONS[pageType] || {};
  
  // Добавляем контент в соответствующие места
  if (pageType === 'homepage') {
    // Добавляем после hero секции
    if (sections.afterHero && content.includes('</section>')) {
      const heroEndIndex = content.indexOf('</section>') + '</section>'.length;
      content = content.slice(0, heroEndIndex) + sections.afterHero + content.slice(heroEndIndex);
    }
    
    // Добавляем перед footer
    if (sections.beforeFooter && content.includes('<footer')) {
      const footerIndex = content.indexOf('<footer');
      content = content.slice(0, footerIndex) + sections.beforeFooter + content.slice(footerIndex);
    }
  }
  
  if (pageType === 'route') {
    // Извлекаем данные о маршруте
    const h1Match = content.match(/<h1>(.*?)<\/h1>/);
    let fromCity = 'Москва', toCity = 'Город', distance = '500', price = '15000';
    
    if (h1Match) {
      const routeMatch = h1Match[1].match(/Грузоперевозки\s+(.+?)\s+—\s+(.+)/);
      if (routeMatch) {
        fromCity = routeMatch[1].trim();
        toCity = routeMatch[2].trim();
      }
    }
    
    const distanceMatch = content.match(/(\d+)\s*км/);
    if (distanceMatch) distance = distanceMatch[1];
    
    const priceMatch = content.match(/от\s*([\d,\s]+)\s*₽/);
    if (priceMatch) price = priceMatch[1].replace(/[,\s]/g, '');
    
    // Заменяем плейсхолдеры
    let enhancedContent = sections.afterPricing || '';
    enhancedContent = enhancedContent
      .replace(/{FROM_CITY}/g, fromCity)
      .replace(/{TO_CITY}/g, toCity)
      .replace(/{DISTANCE}/g, distance)
      .replace(/{PRICE}/g, Number(price).toLocaleString('ru-RU'))
      .replace(/{PRICE_5T}/g, (Number(price) * 1.5).toLocaleString('ru-RU'))
      .replace(/{PRICE_10T}/g, (Number(price) * 2).toLocaleString('ru-RU'))
      .replace(/{PRICE_20T}/g, (Number(price) * 3).toLocaleString('ru-RU'))
      .replace(/{TIME}/g, Math.ceil(Number(distance) / 80))
      .replace(/{TIME_FAST}/g, Math.ceil(Number(distance) / 100))
      .replace(/{TIME_NORMAL}/g, Math.ceil(Number(distance) / 80))
      .replace(/{TIME_SLOW}/g, Math.ceil(Number(distance) / 60 / 24));
    
    // Добавляем после секции с ценами
    const pricesSectionEnd = content.lastIndexOf('</section>');
    if (pricesSectionEnd > 0) {
      content = content.slice(0, pricesSectionEnd + '</section>'.length) + 
                enhancedContent + 
                content.slice(pricesSectionEnd + '</section>'.length);
    }
    
    // Добавляем перед FAQ
    if (sections.beforeFAQ) {
      let beforeFAQContent = sections.beforeFAQ
        .replace(/{FROM_CITY}/g, fromCity)
        .replace(/{TO_CITY}/g, toCity)
        .replace(/{DISTANCE}/g, distance)
        .replace(/{PRICE}/g, Number(price).toLocaleString('ru-RU'));
      
      const faqIndex = content.indexOf('<h2>Часто задаваемые вопросы</h2>');
      if (faqIndex > 0) {
        content = content.slice(0, faqIndex) + beforeFAQContent + content.slice(faqIndex);
      }
    }
  }
  
  if (pageType === 'service' && sections.afterDescription) {
    // Добавляем после первой секции
    const firstSectionEnd = content.indexOf('</section>');
    if (firstSectionEnd > 0) {
      content = content.slice(0, firstSectionEnd + '</section>'.length) + 
                sections.afterDescription + 
                content.slice(firstSectionEnd + '</section>'.length);
    }
  }
  
  // Проверяем новое количество слов
  const newWords = countWords(content);
  
  // Сохраняем улучшенный файл
  fs.writeFileSync(filePath, content);
  
  console.log(`✅ Контент улучшен: ${originalWords} → ${newWords} слов (+${newWords - originalWords})`);
  
  return {
    file: path.basename(filePath),
    originalWords,
    newWords,
    added: newWords - originalWords
  };
}

// Главная функция
async function main() {
  console.log('🚀 Начинаю улучшение глубины контента...\n');
  
  const baseDir = path.join(__dirname, '..', '..');
  const results = [];
  
  // Улучшаем главную страницу
  results.push(enhancePageContent(path.join(baseDir, 'index.html'), 'homepage'));
  
  // Улучшаем несколько страниц маршрутов как примеры
  const routesToEnhance = [
    'routes/moskva/moskva-spb.html',
    'routes/moskva/moskva-kazan.html',
    'routes/moskva/moskva-nizhniy-novgorod.html',
    'routes/moskva/moskva-ekaterinburg.html',
    'routes/moskva/moskva-samara.html'
  ];
  
  for (const route of routesToEnhance) {
    const filePath = path.join(baseDir, route);
    if (fs.existsSync(filePath)) {
      results.push(enhancePageContent(filePath, 'route'));
    }
  }
  
  // Улучшаем страницы услуг
  const servicePages = [
    'urgent-delivery.html',
    'ip-small-business-delivery.html',
    'self-employed-delivery.html'
  ];
  
  for (const page of servicePages) {
    const filePath = path.join(baseDir, page);
    if (fs.existsSync(filePath)) {
      results.push(enhancePageContent(filePath, 'service'));
    }
  }
  
  // Выводим итоги
  console.log('\n' + '='.repeat(60));
  console.log('\n📊 Итоги улучшения контента:\n');
  
  let totalOriginal = 0;
  let totalNew = 0;
  
  for (const result of results) {
    console.log(`${result.file.padEnd(40)} +${result.added} слов (${result.originalWords} → ${result.newWords})`);
    totalOriginal += result.originalWords;
    totalNew += result.newWords;
  }
  
  console.log('\n' + '-'.repeat(60));
  console.log(`ИТОГО: ${totalOriginal} → ${totalNew} слов (+${totalNew - totalOriginal})`);
  console.log(`Средний прирост: ${Math.round((totalNew - totalOriginal) / results.length)} слов на страницу`);
  
  console.log('\n✨ Улучшение контента завершено!');
  console.log('\n💡 Это демонстрационное улучшение для ключевых страниц.');
  console.log('   Для остальных страниц можно применить аналогичный подход.');
}

// Запускаем
main().catch(console.error);