#!/bin/bash

echo "üöÄ –î–ï–ü–õ–û–ô –í–ï–†–°–ò–ò –û–¢ 29 –ê–í–ì–£–°–¢–ê –ù–ê VPS"
echo "üìÖ –í–µ—Ä—Å–∏—è: restore-stable-version-20250829"
echo "‚è∞ –í—Ä–µ–º—è: $(date)"
echo ""

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –º—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –≤–µ—Ç–∫–µ
CURRENT_BRANCH=$(git branch --show-current)
echo "üìç –¢–µ–∫—É—â–∞—è –≤–µ—Ç–∫–∞: $CURRENT_BRANCH"

if [ "$CURRENT_BRANCH" != "restore-stable-version-20250829" ]; then
    echo "‚ùå –û–®–ò–ë–ö–ê: –ú—ã –Ω–µ –≤ –≤–µ—Ç–∫–µ restore-stable-version-20250829"
    echo "üîÑ –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –Ω—É–∂–Ω—É—é –≤–µ—Ç–∫—É..."
    git checkout restore-stable-version-20250829
fi

echo ""
echo "üìÅ –§–∞–π–ª—ã –¥–ª—è –¥–µ–ø–ª–æ—è:"
echo "‚úÖ index.html - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞"
echo "‚úÖ assets/css/critical-fixes.css - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç–∏–ª–∏"
echo "‚úÖ sw.js - Service Worker"
echo "‚úÖ –í—Å–µ HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã"
echo "‚úÖ –í—Å–µ CSS –∏ JS —Ñ–∞–π–ª—ã"

echo ""
echo "üîÑ –ù–∞—á–∏–Ω–∞–µ–º –¥–µ–ø–ª–æ–π –Ω–∞ VPS..."

# –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ VPS
# –ü–æ–∫–∞ —á—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –≥–æ—Ç–æ–≤—ã
echo "üéØ –ì–û–¢–û–í –ö –î–ï–ü–õ–û–Æ –ù–ê VPS!"
echo "üìã –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥: –∑–∞–ª–∏—Ç—å —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä"
echo ""
echo "üí° –î–ª—è –¥–µ–ø–ª–æ—è –∏—Å–ø–æ–ª—å–∑—É–π:"
echo "   rsync -avz --exclude='.git' --exclude='backups' ./ user@server:/path/to/site/"
echo ""
echo "üîç –ü—Ä–æ–≤–µ—Ä—å –Ω–∞ VPS:"
echo "   1. –û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ"
echo "   2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å hero —Å–µ–∫—Ü–∏—é –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö —Ç–æ–Ω–Ω–∏–∫–æ–≤"
echo "   3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ—Ç –ø–æ–ø–∞–ø–∞"
echo "   4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–ª–æ–∫ conversion-paths"
