#!/usr/bin/env node
/**
 * üéØ –ì–ï–ù–ï–†–ê–¢–û–† –£–ù–ò–ö–ê–õ–¨–ù–û–ì–û –ö–û–ù–¢–ï–ù–¢–ê –î–õ–Ø –ê–í–¢–û–ì–û–°–¢77
 * –ú–∏–∫—Å—É–µ—Ç –±–ª–æ–∫–∏ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
 */

// –ë–õ–û–ö–ò –ö–û–ù–¢–ï–ù–¢–ê - –°–Æ–î–ê –ë–£–î–ï–ú –î–û–ë–ê–í–õ–Ø–¢–¨ –¢–ï–ö–°–¢–´ –û–¢ –í–ò–ó–ò–û–ù–ï–†–ê
const CONTENT_BLOCKS = {
  // –í–°–¢–£–ü–ò–¢–ï–õ–¨–ù–´–ï –ë–õ–û–ö–ò (–≤—ã–±–∏—Ä–∞–µ—Ç—Å—è 1 —Å–ª—É—á–∞–π–Ω—ã–π)
  intro: [
    "–ì—Ä—É–∑–æ–ø–µ—Ä–µ–≤–æ–∑–∫–∏ –∏–∑ {from} –≤ {to} - —ç—Ç–æ –Ω–∞—à–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É–∂–µ –±–æ–ª–µ–µ 10 –ª–µ—Ç.",
    "–ù—É–∂–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ –≥—Ä—É–∑–∞ –∏–∑ {from} –≤ {to}? –í—ã –ø–æ–ø–∞–ª–∏ –ø–æ –∞–¥—Ä–µ—Å—É!",
    "–ê–≤—Ç–æ–ì–û–°–¢77 –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–µ—Ä–µ–≤–æ–∑–∫–∏ –ø–æ –º–∞—Ä—à—Ä—É—Ç—É {from} - {to} –µ–∂–µ–¥–Ω–µ–≤–Ω–æ.",
    "–°–ª–æ–º–∞–ª—Å—è –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫? –ù–∞–π–¥–µ–º –º–∞—à–∏–Ω—É –∏–∑ {from} –≤ {to} –∑–∞ 15 –º–∏–Ω—É—Ç!",
    "–ú—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—Ä–æ—Å–∞–µ–º —Å–≤–æ–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ - –≤–µ–∑–µ–º –∏–∑ {from} –≤ {to} –≤ –ª—é–±–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏.",
    "–î–∞–∂–µ –ø–µ—Ä–µ–¥ –ù–æ–≤—ã–º –≥–æ–¥–æ–º –¥–æ–≤–µ–∑–µ–º –≥—Ä—É–∑ –∏–∑ {from} –≤ {to} - –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∏ –Ω–∞ —á—Ç–æ!",
    "–°–ª–æ–º–∞–ª–∞—Å—å –º–∞—à–∏–Ω–∞ –Ω–∞ —Ç—Ä–∞—Å—Å–µ? –ù–µ –ø—Ä–æ–±–ª–µ–º–∞ - –¥–æ—Å—Ç–∞–≤–∏–º –∏–∑ {from} –≤ {to} –≤ —Å—Ä–æ–∫!",
    // –°–Æ–î–ê –î–û–ë–ê–í–ò–ú –ë–û–õ–¨–®–ï –í–ê–†–ò–ê–ù–¢–û–í –û–¢ –í–ò–ó–ò–û–ù–ï–†–ê
  ],

  // –ë–õ–û–ö–ò –ü–†–û –û–ü–´–¢ (–≤—ã–±–∏—Ä–∞–µ—Ç—Å—è 1 —Å–ª—É—á–∞–π–Ω—ã–π)
  experience: [
    "–ó–∞ –≥–æ–¥—ã —Ä–∞–±–æ—Ç—ã –º—ã –ø–µ—Ä–µ–≤–µ–∑–ª–∏ —Ç—ã—Å—è—á–∏ —Ç–æ–Ω–Ω –≥—Ä—É–∑–æ–≤ –ø–æ —ç—Ç–æ–º—É –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é.",
    "–ù–∞—à–∏ –≤–æ–¥–∏—Ç–µ–ª–∏ –∑–Ω–∞—é—Ç –º–∞—Ä—à—Ä—É—Ç {from} - {to} –∫–∞–∫ —Å–≤–æ–∏ –ø—è—Ç—å –ø–∞–ª—å—Ü–µ–≤.",
    "–ë–æ–ª–µ–µ 60,000 –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –¥–æ–≤–µ—Ä—è—é—Ç –Ω–∞–º —Å–≤–æ–∏ –≥—Ä—É–∑—ã.",
    "–ù–∞–π–¥–µ–º –º–∞—à–∏–Ω—É –∑–∞ 15 –º–∏–Ω—É—Ç - –¥–∞–∂–µ –µ—Å–ª–∏ –¥—Ä—É–≥–æ–π –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫ –ø–æ–¥–≤–µ–ª.",
    "–° –Ω–∞–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –¥–æ–ª–≥–æ –∏ —Å—á–∞—Å—Ç–ª–∏–≤–æ - –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –≥–æ–¥–∞–º–∏!",
    "–î–∞–∂–µ –≤ —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –º—ã –Ω–∞—Ö–æ–¥–∏–º –≤—ã—Ö–æ–¥ - —ç—Ç–æ –Ω–∞—à –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã.",
    "–ü—Ä–∏–≤–µ–∑–µ–º –∑–∞–ø—á–∞—Å—Ç–∏ –∑–∞ 350 –∫–º –ø–æ—Å—Ä–µ–¥–∏ –Ω–æ—á–∏ - –¥–ª—è –Ω–∞—Å –Ω–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–≥–æ!",
    "–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–∏ –Ω–µ —Å—Ä—ã–≤–∞—é—Ç—Å—è - –º—ã —Ä–∞–±–æ—Ç–∞–µ–º 365 –¥–Ω–µ–π –≤ –≥–æ–¥—É.",
    // –°–Æ–î–ê –î–û–ë–ê–í–ò–ú –ë–û–õ–¨–®–ï –í–ê–†–ò–ê–ù–¢–û–í
  ],

  // –ë–õ–û–ö–ò –ü–†–û –¢–†–ê–ù–°–ü–û–†–¢ (–≤—ã–±–∏—Ä–∞–µ—Ç—Å—è 1-2 —Å–ª—É—á–∞–π–Ω—ã—Ö)
  transport: [
    "–í –Ω–∞—à–µ–º –ø–∞—Ä–∫–µ –µ—Å—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –¥–ª—è –ª—é–±–æ–≥–æ –≥—Ä—É–∑–∞: –æ—Ç –ì–∞–∑–µ–ª–∏ –¥–æ —Ñ—É—Ä—ã 20—Ç.",
    "–ü–æ–¥–±–µ—Ä–µ–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏–º–µ–Ω–Ω–æ –ø–æ–¥ –≤–∞—à –≥—Ä—É–∑ –∏ –±—é–¥–∂–µ—Ç.",
    "–ì–∞–∑–µ–ª—å –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –≥—Ä—É–∑–æ–≤, —Ñ—É—Ä–∞ –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö –ø–∞—Ä—Ç–∏–π - –≤—ã–±–æ—Ä –∑–∞ –≤–∞–º–∏.",
    // –°–Æ–î–ê –î–û–ë–ê–í–ò–ú –ë–û–õ–¨–®–ï –í–ê–†–ò–ê–ù–¢–û–í
  ],

  // –ë–õ–û–ö–ò –ü–†–û –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê (–≤—ã–±–∏—Ä–∞–µ—Ç—Å—è 2-3 —Å–ª—É—á–∞–π–Ω—ã—Ö)
  advantages: [
    "–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –≥—Ä—É–∑–∞ –≤–∫–ª—é—á–µ–Ω–æ –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ–≤–æ–∑–∫–∏.",
    "GPS-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ –≤—Å–µ–º –ø—É—Ç–∏ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.",
    "–û–ø–ª–æ–º–±–∏—Ä–æ–≤–∫–∞ –∏ —Ñ–æ—Ç–æ–æ—Ç—á–µ—Ç –ø—Ä–∏ –ø–æ–≥—Ä—É–∑–∫–µ.",
    "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä 24/7.",
    "–ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–∫–∏–¥–æ–∫ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.",
    "–ü–æ–¥–∞—á–∞ –º–∞—à–∏–Ω—ã –∑–∞ 15 –º–∏–Ω—É—Ç –≤ —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.",
    "–°–∫–∏–¥–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –∫–ª–∏–µ–Ω—Ç–∞–º - —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è.",
    "–í—Å–µ–≥–¥–∞ –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç - –Ω–µ –ø–æ–¥–≤–µ–¥–µ–º –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –º–æ–º–µ–Ω—Ç.",
    "–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –∑–∞–ø—á–∞—Å—Ç–µ–π –ø—Ä–∏ –ø–æ–ª–æ–º–∫–µ - –¥–∞–∂–µ –Ω–æ—á—å—é –∑–∞ 350 –∫–º.",
    "–†–∞–±–æ—Ç–∞–µ–º –≤ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏ –∏ –≤—ã—Ö–æ–¥–Ω—ã–µ - 365 –¥–Ω–µ–π –≤ –≥–æ–¥—É.",
    "–†–µ–º–æ–Ω—Ç –Ω–∞ –º–µ—Å—Ç–µ —Å–∏–ª–∞–º–∏ –≤–æ–¥–∏—Ç–µ–ª—è - –Ω–∞—à–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—ã —Ä–µ—à–∞—é—Ç –ª—é–±—ã–µ –∑–∞–¥–∞—á–∏.",
    "–î–æ—Å—Ç–∞–≤–∫–∞ —Ç–æ—á–Ω–æ –≤ —Å—Ä–æ–∫ - –¥–∞–∂–µ –µ—Å–ª–∏ –º–∞—à–∏–Ω–∞ —Å–ª–æ–º–∞–ª–∞—Å—å –ø–æ –¥–æ—Ä–æ–≥–µ.",
    // –°–Æ–î–ê –î–û–ë–ê–í–ò–ú –ë–û–õ–¨–®–ï –í–ê–†–ò–ê–ù–¢–û–í
  ],

  // –ë–õ–û–ö–ò –ü–†–û –¶–ï–ù–´ (–≤—ã–±–∏—Ä–∞–µ—Ç—Å—è 1 —Å–ª—É—á–∞–π–Ω—ã–π)
  pricing: [
    "–°—Ç–æ–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ–≤–æ–∑–∫–∏ –∏–∑ {from} –≤ {to} –æ—Ç {price}‚ÇΩ.",
    "–¶–µ–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ –º–∞—Ä—à—Ä—É—Ç—É {from} - {to} –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –æ—Ç {price}‚ÇΩ.",
    "–í–µ–∑–µ–º –∏–∑ {from} –≤ {to} –æ—Ç {price}‚ÇΩ –∑–∞ –º–∞—à–∏–Ω—É.",
    // –°–Æ–î–ê –î–û–ë–ê–í–ò–ú –ë–û–õ–¨–®–ï –í–ê–†–ò–ê–ù–¢–û–í
  ],

  // –ü–†–ò–ó–´–í –ö –î–ï–ô–°–¢–í–ò–Æ (–≤—ã–±–∏—Ä–∞–µ—Ç—Å—è 1 —Å–ª—É—á–∞–π–Ω—ã–π)
  cta: [
    "–ó–≤–æ–Ω–∏—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ä–∞—Å—á–µ—Ç –∑–∞ 5 –º–∏–Ω—É—Ç!",
    "–û—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É –∏ –º—ã –ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º –≤ —Ç–µ—á–µ–Ω–∏–µ 10 –º–∏–Ω—É—Ç.",
    "–ó–∞–∫–∞–∂–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–∑–∫—É —Å–µ–≥–æ–¥–Ω—è - –ø–æ–ª—É—á–∏—Ç–µ —Å–∫–∏–¥–∫—É 5%!",
    "–ù–µ –¥–∞–π—Ç–µ –ø–æ–ª–æ–º–∫–µ —Å–æ—Ä–≤–∞—Ç—å –≤–∞—à—É –¥–æ—Å—Ç–∞–≤–∫—É - –∑–≤–æ–Ω–∏—Ç–µ, –ø–æ–º–æ–∂–µ–º!",
    "–†–∞–±–æ—Ç–∞–µ–º –¥–∞–∂–µ –≤ –ù–æ–≤—ã–π –≥–æ–¥ - –∑–≤–æ–Ω–∏—Ç–µ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è!",
    "–ö–ª–∏–µ–Ω—Ç –æ—Å—Ç–∞–ª—Å—è —Å—á–∞—Å—Ç–ª–∏–≤? –í—ã —Ç–æ–∂–µ –æ—Å—Ç–∞–Ω–µ—Ç–µ—Å—å - –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º!",
    // –°–Æ–î–ê –î–û–ë–ê–í–ò–ú –ë–û–õ–¨–®–ï –í–ê–†–ò–ê–ù–¢–û–í
  ]
};

// –§–£–ù–ö–¶–ò–Ø –ì–ï–ù–ï–†–ê–¶–ò–ò –£–ù–ò–ö–ê–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê
function generateUniqueContent(from, to, distance, price) {
  const content = [];
  
  // 1. –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ (1 –±–ª–æ–∫)
  content.push(getRandomBlock('intro', {from, to, distance, price}));
  
  // 2. –û–ø—ã—Ç (1 –±–ª–æ–∫) 
  content.push(getRandomBlock('experience', {from, to, distance, price}));
  
  // 3. –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç (1-2 –±–ª–æ–∫–∞)
  const transportCount = Math.random() > 0.5 ? 2 : 1;
  for (let i = 0; i < transportCount; i++) {
    content.push(getRandomBlock('transport', {from, to, distance, price}));
  }
  
  // 4. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ (2-3 –±–ª–æ–∫–∞)
  const advantagesCount = Math.floor(Math.random() * 2) + 2;
  const advantages = shuffleArray([...CONTENT_BLOCKS.advantages])
    .slice(0, advantagesCount)
    .map(text => replaceVariables(text, {from, to, distance, price}));
  content.push(`<ul>${advantages.map(a => `<li>${a}</li>`).join('')}</ul>`);
  
  // 5. –¶–µ–Ω—ã (1 –±–ª–æ–∫)
  content.push(getRandomBlock('pricing', {from, to, distance, price}));
  
  // 6. CTA (1 –±–ª–æ–∫)
  content.push(getRandomBlock('cta', {from, to, distance, price}));
  
  return content.join('\n\n');
}

// –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò
function getRandomBlock(type, vars) {
  const blocks = CONTENT_BLOCKS[type];
  const block = blocks[Math.floor(Math.random() * blocks.length)];
  return replaceVariables(block, vars);
}

function replaceVariables(text, vars) {
  return text
    .replace(/\{from\}/g, vars.from)
    .replace(/\{to\}/g, vars.to)
    .replace(/\{distance\}/g, vars.distance)
    .replace(/\{price\}/g, vars.price.toLocaleString('ru-RU'));
}

function shuffleArray(array) {
  const arr = [...array];
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

// –≠–ö–°–ü–û–†–¢ –î–õ–Ø –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø –í –î–†–£–ì–ò–• –°–ö–†–ò–ü–¢–ê–•
module.exports = { generateUniqueContent, CONTENT_BLOCKS };

// –¢–ï–°–¢
if (require.main === module) {
  console.log('üéØ –ü–†–ò–ú–ï–† –ì–ï–ù–ï–†–ê–¶–ò–ò:\n');
  console.log(generateUniqueContent('–ú–æ—Å–∫–≤–∞', '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', 700, 35000));
  console.log('\n' + '='.repeat(50) + '\n');
  console.log(generateUniqueContent('–ú–æ—Å–∫–≤–∞', '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', 1800, 70000));
}