#!/bin/bash

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –≤ —Ñ–∞–π–ª–µ
fix_phones() {
    local file=$1
    echo "Processing $file..."
    
    # –ó–∞–º–µ–Ω—è–µ–º —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ –≤ —Å—Å—ã–ª–∫–∞—Ö
    sed -i 's/tel:+7[0-9]\{10\}/tel:+79162720932/g' "$file"
    sed -i 's/tel:[0-9]\{11\}/tel:+79162720932/g' "$file"
    
    # –ó–∞–º–µ–Ω—è–µ–º —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ –≤ —Ç–µ–∫—Å—Ç–µ
    sed -i 's/+7 [0-9]\{3\} [0-9]\{3\}-[0-9]\{2\}-[0-9]\{2\}/+7 916 272-09-32/g' "$file"
    sed -i 's/+7[0-9]\{10\}/+79162720932/g' "$file"
    
    # –ó–∞–º–µ–Ω—è–µ–º —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ –≤ WhatsApp —Å—Å—ã–ª–∫–∞—Ö
    sed -i 's/wa.me\/7[0-9]\{10\}/wa.me\/79162720932/g' "$file"
    
    # –ó–∞–º–µ–Ω—è–µ–º —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ –≤ Schema.org
    sed -i 's/"telephone": "+7[0-9]\{10\}"/"telephone": "+79162720932"/g' "$file"
    
    echo "‚úÖ Processed $file"
}

# –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ HTML —Ñ–∞–π–ª—ã
find . -name "*.html" -type f | while read -r file; do
    fix_phones "$file"
done

echo "üéØ All files processed!"
