<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üö® –≠–ö–°–¢–†–ï–ù–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê - 1 –ß–ê–° –î–û –°–î–ê–ß–ò</title>
  <link rel="stylesheet" href="assets/css/critical.css">
  <link rel="stylesheet" href="assets/css/styles.css">
  <link rel="stylesheet" href="assets/css/mobile.css">
  <style>
    .emergency-header {
      background: #ff4444;
      color: white;
      padding: 10px;
      text-align: center;
      font-weight: bold;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 10000;
    }
    
    .test-section {
      margin-top: 60px;
      padding: 20px;
      border: 2px solid #ff4444;
      margin: 80px 20px 20px 20px;
      border-radius: 8px;
    }
    
    .test-result {
      padding: 10px;
      margin: 10px 0;
      border-radius: 5px;
      font-weight: bold;
    }
    
    .pass { background: #4CAF50; color: white; }
    .fail { background: #f44336; color: white; }
    .warning { background: #ff9800; color: white; }
    
    .emergency-hero {
      min-height: 50vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: white;
      position: relative;
      background: url('assets/img/hero-logistics.jpg') center/cover no-repeat;
      background: url('assets/img/hero-logistics.webp') center/cover no-repeat;
    }
    
    .emergency-hero::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      opacity: 0.6;
      z-index: 1;
    }
    
    .emergency-hero-content {
      position: relative;
      z-index: 2;
    }
  </style>
</head>
<body>
  <div class="emergency-header">
    üö® –≠–ö–°–¢–†–ï–ù–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê - 1 –ß–ê–° –î–û –°–î–ê–ß–ò –ü–†–û–ï–ö–¢–ê
  </div>

  <!-- –¢–µ—Å—Ç Hero –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
  <div class="emergency-hero">
    <div class="emergency-hero-content">
      <h1>üñºÔ∏è –¢–ï–°–¢ HERO –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø</h1>
      <p>–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —ç—Ç–æ –Ω–∞ —Ñ–æ–Ω–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è - HERO –†–ê–ë–û–¢–ê–ï–¢!</p>
      <button onclick="testHero()" class="btn btn-primary">üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Hero</button>
    </div>
  </div>

  <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ -->
  <div class="test-section">
    <h2>üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –≠–ö–°–¢–†–ï–ù–ù–´–• –¢–ï–°–¢–û–í</h2>
    <div id="test-results"></div>
    <button onclick="runEmergencyTests()" class="btn btn-warning">üö® –ó–ê–ü–£–°–¢–ò–¢–¨ –í–°–ï –¢–ï–°–¢–´</button>
  </div>

  <!-- –¢–µ—Å—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ -->
  <div class="test-section">
    <h2>üßÆ –¢–ï–°–¢ –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–†–ê</h2>
    <div id="calculator-container" style="max-width: 800px; margin: 0 auto;">
      <div class="loading-calculator" style="text-align: center; padding: 3rem; color: #666;">
        <i class="bi bi-hourglass-split" style="font-size: 2rem; margin-bottom: 1rem;"></i>
        <p>–ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä...</p>
      </div>
    </div>
    <button onclick="testCalculator()" class="btn btn-primary">üßÆ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</button>
  </div>

  <!-- JavaScript –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ -->
  <script>
    function runEmergencyTests() {
      const results = [];
      
      // –¢–µ—Å—Ç 1: CSS —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã
      const cssCount = document.styleSheets.length;
      results.push({
        name: 'CSS —Ñ–∞–π–ª—ã',
        status: cssCount >= 3 ? 'pass' : 'fail',
        details: `–ó–∞–≥—Ä—É–∂–µ–Ω–æ ${cssCount} CSS —Ñ–∞–π–ª–æ–≤`
      });
      
      // –¢–µ—Å—Ç 2: Hero –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
      const hero = document.querySelector('.emergency-hero');
      const heroStyles = window.getComputedStyle(hero);
      const hasBg = heroStyles.backgroundImage && heroStyles.backgroundImage !== 'none';
      results.push({
        name: 'Hero —Ñ–æ–Ω',
        status: hasBg ? 'pass' : 'fail',
        details: hasBg ? '–§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ' : '–§–æ–Ω –ù–ï –∑–∞–≥—Ä—É–∂–µ–Ω'
      });
      
      // –¢–µ—Å—Ç 3: –ú–æ–±–∏–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
      const isMobile = window.innerWidth <= 768;
      if (isMobile) {
        const textAlign = heroStyles.textAlign;
        results.push({
          name: '–ú–æ–±–∏–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏',
          status: textAlign === 'center' ? 'pass' : 'fail',
          details: `Text-align: ${textAlign} (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å center –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)`
        });
      }
      
      // –¢–µ—Å—Ç 4: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
      const calcContainer = document.getElementById('calculator-container');
      results.push({
        name: '–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞',
        status: calcContainer ? 'pass' : 'fail',
        details: calcContainer ? '–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞–π–¥–µ–Ω' : '–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ù–ï –Ω–∞–π–¥–µ–Ω'
      });
      
      // –¢–µ—Å—Ç 5: JavaScript –æ—à–∏–±–∫–∏
      let jsErrors = 0;
      window.addEventListener('error', () => jsErrors++);
      results.push({
        name: 'JavaScript –æ—à–∏–±–∫–∏',
        status: jsErrors === 0 ? 'pass' : 'warning',
        details: `–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ ${jsErrors} –æ—à–∏–±–æ–∫`
      });
      
      displayResults(results);
    }
    
    function displayResults(results) {
      const container = document.getElementById('test-results');
      let html = '';
      
      results.forEach(result => {
        const icon = result.status === 'pass' ? '‚úÖ' : result.status === 'fail' ? '‚ùå' : '‚ö†Ô∏è';
        html += `
          <div class="test-result ${result.status}">
            ${icon} ${result.name}: ${result.details}
          </div>
        `;
      });
      
      container.innerHTML = html;
    }
    
    function testHero() {
      const hero = document.querySelector('.emergency-hero');
      const styles = window.getComputedStyle(hero);
      const bgImage = styles.backgroundImage;
      
      alert(`
        –¢–ï–°–¢ HERO –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø:
        
        –§–æ–Ω: ${bgImage !== 'none' ? '‚úÖ –ï–°–¢–¨' : '‚ùå –ù–ï–¢'}
        –®–∏—Ä–∏–Ω–∞ —ç–∫—Ä–∞–Ω–∞: ${window.innerWidth}px
        –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${window.innerWidth <= 768 ? '–ú–æ–±–∏–ª—å–Ω–æ–µ' : '–î–µ—Å–∫—Ç–æ–ø'}
        Background-image: ${bgImage}
        
        ${bgImage !== 'none' ? 'üéâ HERO –†–ê–ë–û–¢–ê–ï–¢!' : 'üö® HERO –ù–ï –†–ê–ë–û–¢–ê–ï–¢!'}
      `);
    }
    
    function testCalculator() {
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –ª–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
      const calcForm = document.getElementById('smart-calc-form');
      const calcInstance = window.calculatorInstance;
      
      alert(`
        –¢–ï–°–¢ –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–†–ê:
        
        –§–æ—Ä–º–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞: ${calcForm ? '‚úÖ –ù–ê–ô–î–ï–ù–ê' : '‚ùå –ù–ï –ù–ê–ô–î–ï–ù–ê'}
        –≠–∫–∑–µ–º–ø–ª—è—Ä –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞: ${calcInstance ? '‚úÖ –°–û–ó–î–ê–ù' : '‚ùå –ù–ï –°–û–ó–î–ê–ù'}
        
        ${calcForm && calcInstance ? 'üéâ –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† –†–ê–ë–û–¢–ê–ï–¢!' : 'üö® –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† –ù–ï –†–ê–ë–û–¢–ê–ï–¢!'}
      `);
    }
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    window.addEventListener('load', function() {
      setTimeout(runEmergencyTests, 1000);
    });
  </script>

  <!-- –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã -->
  <script src="assets/js/performance.js"></script>
  <script src="assets/js/calc.js"></script>
  <script>
    // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
    document.addEventListener('DOMContentLoaded', function() {
      try {
        if (typeof SmartLogisticsCalculator !== 'undefined') {
          window.calculatorInstance = new SmartLogisticsCalculator();
          console.log('üö® –≠–ö–°–¢–†–ï–ù–ù–ê–Ø –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞');
        } else {
          console.error('üö® SmartLogisticsCalculator –ù–ï –ù–ê–ô–î–ï–ù!');
        }
      } catch (error) {
        console.error('üö® –û–®–ò–ë–ö–ê –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞:', error);
      }
    });
  </script>
</body>
</html>